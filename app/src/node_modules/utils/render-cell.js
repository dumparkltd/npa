var NestedTable       = require('components/list/NestedTable')
var TableCellText		  = require('components/list/TableCellText')
var TableCellIcon		  = require('components/list/TableCellIcon')
var TableCellBar		  = require('components/list/TableCellBar')
var TableCellRatioBar	= require('components/list/TableCellRatioBar')


module.exports = function(row,col) {
  function getNestBefore(){
    return (
      <div />
    )
  }
  function getNestAfter (row,col){

    var config = col.nestAfter 

    var classes = 'nest-after' 
            + (config.visibleXS ? ' visible-xs' : '')
            + (config.hiddenXS ? ' hidden-xs' : '')

    return (
      <NestedTable 
        className="nest-before" 
        row = {row}
        cols = {config.cols}
      />
    )
  }
  
    if ( col.type === 'no' || col.type === 'label') {
      return row[col.attr]    
    } else if ( col.type === 'text') {
      return ( 
              <TableCellText 
                text={row[col.attr]}
                nestBefore={getNestBefore(row,col)}
                nestAfter={getNestAfter(row,col)}
              />
      )
    } else if ( col.type === 'icon') {
      return (
              <TableCellIcon
                col={col}
                row={row} />                
            )
    } else if ( col.type === 'bar' ) {      
      return (
              <TableCellBar
                col={col}
                row={row} />                
            )
      
    } else if ( col.type === 'ratio-bar' ) {
      
      return (
              <TableCellRatioBar
                col={col}
                row={row} />                
            ) 
      
    } else if ( col.type === 'links' 
            || col.type === 'key-links'  ) {
      return (
        <span className="icon-arrow-link"></span>
      )
    } else {
      return null
    }
  }
