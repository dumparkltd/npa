// find references
// to: entity has list of references
// from: entity is referenced by other entity 

module.exports = function(flux,args) {
  if (args.to) {
    
    return flux.store(args.to).filter(function(item){
      return args.entity[args.attr].indexOf(item.id) > -1
    })
  } else if (args.from) {
    var id = typeof args.entity === 'object' ? args.entity.id : args.entity
    return flux.store(args.from).filter(function(item){
      return item[args.attr].indexOf(id) > -1
    })
  }     
}

