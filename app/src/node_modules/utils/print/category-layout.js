// helpers
var moment = require('moment')

var categoryContentLayout = require('utils/print/categorycontent-layout')

module.exports = function (payload, category, type, relatedEntities, relatedEntitiesAction, recs) {
  var categoryContent = {
    content: [
      {canvas: [{ type: 'line', x1: 0, y1: 5, x2: 455, y2: 5, lineWidth: 0.5, lineColor: '#ffffff' }], margin: [30, 68, 0, 0]},
      {text: 'New Zealand\'s National Plan of Action', style: ['white', 'size12', 'bold'], margin: [30, 12, 0, 0]},
      {text: 'For the Protection and Promotion of Human Rights', style: ['white', 'size12'], margin: [30, 6, 0, 0]},
      {canvas: [{type: 'line', x1: 0, y1: 5, x2: 455, y2: 5, lineWidth: 0.5, lineColor: '#ffffff'}], margin: [30, 24, 0, 0]},
      {text: type.toUpperCase() + ' REPORT', style: ['white', 'size10', 'bold'], margin: [30, 12, 0, 0]},
      {text: category.title, style: ['size34', 'white'], margin: [30, 12, 30, 0]},
      {canvas: [{type: 'line', x1: 0, y1: 5, x2: 520 * 0.4, y2: 5, lineWidth: 0.5, lineColor: '#ffffff'}], margin: [30, 120, 0, 0]},
      {text: 'IN THIS REPORT:', style: ['white', 'size10', 'bold'], margin: [30, 12, 0, 0]},
      {text: 'Section A', style: ['white', 'bold'], margin: [30, 12, 0, 0]},
      {columns: [{text: category.title, style: ['white'], margin: [30, 0, 0, 0], width: '35%'}]},
      {text: 'Section B', style: ['white', 'bold'], margin: [30, 12, 0, 0]},
      {text: relatedEntities.length + ' Government Actions', style: 'white', margin: [30, 0, 0, 0]},
      {text: 'Section C', style: ['white', 'bold'], margin: [30, 12, 0, 0]},
      {text: recs.length + ' UPR Recommendations', style: 'white', margin: [30, 0, 0, 12]},
      {columns: [
        {stack: [
          {canvas: [{type: 'line', x1: 0, y1: 5, x2: 520 * 0.4, y2: 5, lineWidth: 0.5, lineColor: '#ffffff'}], margin: [30, 12, 0, 0]},
          {text: [{text: 'DATE ', style: ['white', 'bold']}, {text: moment().format('DD/MM/YYYY'), style: 'white'}], margin: [30, 12, 0, 0]},
          {text: [{text: 'ISBN', style: ['white', 'bold']}, {text: '978-3-16-148410-0', style: 'white'}], margin: [30, 0, 0, 12]},
          {canvas: [{type: 'line', x1: 0, y1: 5, x2: 520 * 0.4, y2: 5, lineWidth: 0.5, lineColor: '#ffffff'}], margin: [30, 12, 0, 0]},
          {text: 'npa.hrc.co.nz', style: ['size21', 'white', 'bold'], margin: [30, 12, 0, 0]}
        ], width: '50%'},
        {stack: [
          {canvas: [{type: 'line', x1: 0, y1: 5, x2: 520 * 0.4, y2: 5, lineWidth: 0.5, lineColor: '#ffffff'}], margin: [30, 12, 0, 0]},
          {image: 'icon_logo_white', width: 150, margin: [30, 12, 0, 0]}
        ], width: '50%'}
      ],
      pageBreak: 'after', footerMode: 'category'},
      categoryContentLayout(category, payload.type, relatedEntities, relatedEntities).category,
      {stack: relatedEntitiesAction, footerMode: 'action'}
    ]
  }

  return categoryContent
}
