//React
var React       = require('react')

//bootstrap
var Row 				= require('react-bootstrap/lib/Row')
var Col 				= require('react-bootstrap/lib/Col')

//components
var Icon        = require('components/Icon')
var NavBack     = require('components/nav/NavBack')
var PrintTool   = require ('components/PrintTool')


//helpers
var _           = require('lodash')

module.exports = React.createClass({
  propTypes : {
    supTitle: React.PropTypes.string, 
    title: React.PropTypes.string, 
    tools: React.PropTypes.array,
    navBack:React.PropTypes.bool
  },
  
  render: function () {
    var navBack = typeof this.props.navBack !== "undefined" ? this.props.navBack : true
    return (
      <Row key={0}  className="header-row">
        <Col xs={11} sm={10}>
          <ul className="list-inline sup-title-tools">
          <li>
            <h5 className="header-type">              
              {this.props.supTitle}
            </h5>
          </li>
          {
            _.map(this.props.tools,function(tool, key){
              switch (tool.type){
                case 'download' :
                  return (
                    <li key={key}>
                      <h5 className="header-tool">
                        <a href="" onClick={tool.handler} title={tool.label}>
                          <Icon name="download"/>
                          {tool.label}
                        </a>
                      </h5>
                    </li>
                  )
                  break
                case 'print' :
                  return (
                    <li key={key}>
                      <h5 className="header-tool">
                        <PrintTool tool={tool} />
                      </h5>
                    </li>
                  )
                  break
              }              
            })
          }
          </ul>
          <h1 className="header-title">{this.props.title}</h1>
        </Col>
        <div className='nav-control'>
        {navBack ? <NavBack/> : null}
        </div>
      </Row>
    )
  },
})
