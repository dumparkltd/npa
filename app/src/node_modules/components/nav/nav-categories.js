// react
var React         = require('react')
var Fluxxor      = require('fluxxor')

//components
var SelectTaxonomy = require('components/nav/select-taxonomy')

//bootstrap
var Grid 				= require('react-bootstrap/lib/Grid')
var Row 				= require('react-bootstrap/lib/Row')
var Col 				= require('react-bootstrap/lib/Col')

//helpers
var _         = require('lodash')
var log       = require('debug')('src:components:nav-categories')


module.exports = React.createClass({
  mixins: [
    Fluxxor.FluxMixin(React)
  ],
  isActive : function(actives){
    return actives.indexOf(this.props.active) > -1
  },
  render: function () {
    log('props', this.props)
    var flux = this.getFlux();
    var navItems = [
      {slug:'issues',route:'issue',title:'Issues',active:this.isActive(['issues','issue'])},
      {slug:'groups',route:'group',title:'Population Groups',active:this.isActive(['groups','group'])},
      {slug:'agencies',route:'agency',title:'Government Agencies',active:this.isActive(['agencies','agency'])},
      {slug:'treatybodies',route:'treatybody',title:'UN Treaty Bodies',active:this.isActive(['treatybodies','treatybody'])}
    ]
    var type = 'exploreby'

    return (
      <nav className='nav-categories' role="navigation" >
        <Grid className=''>
          <Row className='nav-categories-row'>
            <Col md={12} xs={12} >
              <SelectTaxonomy
                flux = {flux}
                items = {navItems}
                type = {type}
              />
            </Col>
          </Row>
        </Grid>
      </nav>
    )
  }
})
