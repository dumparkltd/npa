//react 
var React         = require('react')

//components
var Icon        = require('components/Icon')

//helpers
var _         = require('lodash')
var log       = require('debug')('src:components:select-taxonomy')


module.exports = React.createClass({

  render: function () {
    log('props', this.props)

    return (      
      <ul className="list-inline nav-categories-list">
        {
          _.map(this.props.items,function (item, i, items) {
            var width = 1/items.length * 100 + '%'
            return (
              <li key={i} className={item.active ? 'nav-categories-li active' : 'nav-categories-li'}  style={{width:width}} role="presentation" >
                <a  role="button"
                    aria-selected={item.active}
                    title={'Explore by ' + item.title}
                    className='btn'
                    href='#'
                    onClick={this.handleItemClick(item.slug)}>
                      <Icon classes="hrc-icons_cat" name={'cat-'+ item.slug}/>
                  <div className='title-wrap'>
                    <div className='title'>{item.title}</div>
                  </div>
                </a>
                <span className="arrow" style={{left: "50%"}}></span>
              </li>
            )
          },this)
        }               
      </ul>
    )
  },

  handleItemClick: function (slug) {
    return _.bind(function (e) {
      e.preventDefault()
      this.props.flux.actions[this.props.type](slug)
    },this)
  }
})
