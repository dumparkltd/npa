//main
var React = require('react')

// components
var TableHeaderCellKey = require('components/table/TableHeaderCellKey')
var TableHeaderCellLink = require('components/table/TableHeaderCellLink')
var TooltipWrap = require('components/TooltipWrap')

//helpers
var _   = require('lodash')
var log = require('debug')('src:components:TableHead')
 

var TableHead = React.createClass({

  propTypes : {
    cols: React.PropTypes.array    
  },
  
  render: function () {    
//    log('props',this.props)
    return (
      <div className="hrc-thead" aria-hidden="true">        
        <div className='hrc-tr'>        
          {
            _.map(this.props.cols,function(col,i){
              var classes = 'hrc-td hrc-cell hrc-header-cell header-cell-'+col.type
                      + (col.hiddenXS ? ' hidden-xs' : '')
                      + (col.visibleXS ? ' visible-xs' : '')
              return (
                <div key={i} className={classes}>
                  {this.renderCell(col,classes)}
                </div>
              )
            },this)
          }
        </div>
      </div>
    )
  },
  renderCell:function(col) {
        
    var cell
    if (col.type === 'link-links') {
      cell =  <TableHeaderCellLink cellLink={col.link}/>
    } else {         
      cell = (
        <span>
          { typeof col.title !== 'undefined' ? (<div className="hrc-th-title">{col.title}</div>) : null }
          { typeof col.key !== 'undefined' ? (<TableHeaderCellKey cellKey={col.key}/>) : null }
        </span>
      )
    }
    
    if (typeof col.headerTooltip !== 'undefined'){
      return <TooltipWrap content={cell} tooltip={col.headerTooltip}/> 
    } else {
      return cell
    }     
  }
})


module.exports = TableHead;