var React       = require('react')
var Fluxxor     = require('fluxxor')

//helpers
var _           = require('lodash')
var log         = require('debug')('src:components:categoryListItem')

var CategoryListItem = React.createClass({
  mixins: [
    Fluxxor.FluxMixin(React)
  ],
  propTypes : {
    id: React.PropTypes.string,
    title : React.PropTypes.string,
    entityType : React.PropTypes.string    
  },
  
  render: function () {    
    log('props',this.props)
    
    return (
      <li>
        <a title={this.props.title} href="#" 
           onClick={this.handleCategoryItemClick(this.props.id,this.props.entityType)}>
          {this.props.title}
        </a>
      </li>
    )
      
  },
  handleCategoryItemClick: function (id,type) {

    return function (e) {
      e.preventDefault()
      log('handleCategoryItemClick',type + '/' + id )
      this.getFlux().actions.entity.select(type,id)
    }.bind(this)
  },    
})

module.exports = CategoryListItem;
