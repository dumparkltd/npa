//main
var React = require('react')

// components
var TableHeaderCellKey = require('components/list/TableHeaderCellKey')
var TableHeaderCellLink = require('components/list/TableHeaderCellLink')

//helpers
var _   = require('lodash')
var log = require('debug')('src:components:entityListHead')


var TableHead = React.createClass({

  propTypes : {
    cols: React.PropTypes.array    
  },
  
  render: function () {    
    log('props',this.props)
    return (
      <thead>        
        <tr className='hrc-tr'>        
        {
          _.map(this.props.cols,function(col,i){
            var classes = 'hrc-td hrc-cell hrc-header-cell header-cell-'+col.type
                    + (col.hiddenXS ? ' hidden-xs' : '')
                    + (col.visibleXS ? ' visible-xs' : '')
            return (
              <th scope="col" key={i} className={classes}>
                {this.renderCell(col,classes)}
              </th>
            )
          },this)
        }
        </tr>
      </thead>
    )
  },
  renderCell:function(col) {
    
    if (col.type === 'link-links') {
      return <TableHeaderCellLink cellLink={col.link}/>
    } else {
    
      var title = typeof col.title !== 'undefined' ? (<div className="hrc-th-title">{col.title}</div>) : null

      var key = null
      if (typeof col.key !== 'undefined') {
        key = (<TableHeaderCellKey cellKey={col.key}/>)
      }

      return ([
          {title},
          {key}
        ]
      )
    }        
  }
})


module.exports = TableHead;