//react
var React           = require('react')
var Fluxxor         = require('fluxxor')
var StoreWatchMixin = Fluxxor.StoreWatchMixin

//components
var Load            = require('components/load')

//bootstrap
var Grid 				= require('react-bootstrap/lib/Grid')
var Row 				= require('react-bootstrap/lib/Row')
var Col 				= require('react-bootstrap/lib/Col')

//helpers
var _   = require('lodash')
var log = require('debug')('src:components:intro')


module.exports = React.createClass({
mixins: [
    Fluxxor.FluxMixin(React)
  ],

  getStateFromFlux: function () {
    var flux = this.getFlux()

    return {
      loading: flux.store('faq').isLoading()
    }
  },

  render: function () {
    log('props, state', this.props, this.state)
    return (
      <div className='faq'>
        <Grid>{
          _.map(this.props.rows,function(row){
            return(
              <Row key={row.id}>
                {this.renderQuestions(row)}
              </Row>
            )
          }, this)
        }
        </Grid>
      </div>
    )
  },

  renderQuestions : function (row){
    return(
      <Col className='faq-row' md={10}>
        <h3>{row.id + '.' + row.question}</h3>
        <div>{row.answer}</div>
      </Col>
    )
  }
})
