/**
 * Based on 
 * Blob Feature Check v1.1.0
 * https://github.com/ssorallen/blob-feature-check
 *
 * Released into the public domain.
 * http://unlicense.org
 */

module.exports = function(callback) {
  try {
    var svg = new Blob(
      ["<svg xmlns='http://www.w3.org/2000/svg'></svg>"],
      {type: "image/svg+xml;charset=utf-8"}
    );
    
    // Safari 6 uses "webkitURL".
    var url = window.webkitURL || window.URL;
    var objectUrl = url.createObjectURL(svg);

    if (/^blob:/.exec(objectUrl) === null) {
      // `URL.createObjectURL` created a URL that started with something other
      // than "blob:", which means it has been polyfilled and is not supported by
      // this browser.
       callback(false)
    } else {
      var img = new Image();
      img.onload = function() { callback(true) };
      img.onerror = function() { callback(false)};
      img.src = objectUrl;
    }    
    
  } catch(e) {
    callback(false)    
  }

  
}