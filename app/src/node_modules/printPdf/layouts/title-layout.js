// helpers
var _ = require('lodash')

module.exports = function (data, sections, elements) {
  return [
    {
      columns : [
        {
          stack : [
            {text: 'New Zealand\'s National Plan of Action', style: ['white', 'bold']},
            {text: 'Mahere RautƒÅki a Motu', style: ['white']},
          ],
          width : 415
        },
        {
          text : data.reportType.toUpperCase(),
          width : 100
        }
      ]
    },    
    {canvas: [{type: 'line', x1: 0, y1: 0, x2: 455, y2: 0, lineWidth: 0.5, lineColor: '#ffffff'}], margin: [30, 24, 0, 0]},
    {text: data.supTitle.toUpperCase(), style: ['white', 'size10', 'bold'], margin: [30, 12, 0, 0]},
    {text: data.reportTitle, style: ['size34', 'white'], margin: [30, 12, 30, 0]},
    {canvas: [{type: 'line', x1: 0, y1: 5, x2: 515 * 0.4, y2: 5, lineWidth: 0.5, lineColor: '#ffffff'}], margin: [30, 120, 0, 0]},
    {text: 'IN THIS REPORT:', style: ['white', 'size10', 'bold'], margin: [30, 12, 0, 0]},
    {
      stack : _.map(sections,function(section){
        return {
          stack : [
            {text : section.title},
            {
              stack : _.map(section.content, function(item){
                return {text:item}
              })
            }
          ]
        }
      })
    },
    {
      columns: [
        {
          stack: [
            {canvas: [{type: 'line', x1: 0, y1: 5, x2: 515 * 0.4, y2: 5, lineWidth: 0.5, lineColor: '#ffffff'}], margin: [30, 12, 0, 0]},
            {text: [{text: 'DATE ', style: ['white', 'bold']}, {text: data.date, style: 'white'}], margin: [30, 12, 0, 0]},
            {text: [{text: 'ISBN', style: ['white', 'bold']}, {text: data.ISBN, style: 'white'}], margin: [30, 0, 0, 12]},
            {canvas: [{type: 'line', x1: 0, y1: 5, x2: 515 * 0.4, y2: 5, lineWidth: 0.5, lineColor: '#ffffff'}], margin: [30, 12, 0, 0]},
            {text: 'npa.hrc.co.nz', style: ['size21', 'white', 'bold'], margin: [30, 12, 0, 0]}
          ], 
          width: '50%'
        },
        {
          stack: [
            {canvas: [{type: 'line', x1: 0, y1: 5, x2: 515 * 0.4, y2: 5, lineWidth: 0.5, lineColor: '#ffffff'}], margin: [30, 12, 0, 0]},
            {image: 'hrc-logo', width: 150, margin: [30, 12, 0, 0]}
          ], 
          width: '50%'
        }
      ]
    }
  ]

}
