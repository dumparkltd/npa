var log       = require('debug')('actions:index')
var isArray   = require('isarray')
var qs        = require('qs')
var log       = require('debug')('actions')

var c = {

  ROUTE: {
    TRANSITION: "ROUTE:TRANSITION",    
    GOBACK: "ROUTE:GOBACK",    
  }
};

var methods = {
  navPage: function (page){
    log('navPage', page)
    if (page === 'home') {
      this.dispatch(c.ROUTE.TRANSITION, { route: '/' })
    } else {
      // TODO navigate to about and share pages
      this.dispatch(c.ROUTE.TRANSITION, { route: '/page/' + page })
    }

  },
  navigateBack : function () {
    this.dispatch(c.ROUTE.GOBACK,{})
  },
  entity: {
    select : function (type,id) {
      this.dispatch(c.ROUTE.TRANSITION, { route: type, params: { id: id } });
    }
  },
  exploreby:  function (category) {
      this.dispatch(c.ROUTE.TRANSITION, { route: 'explore-by', params: { category: category } });

  },
  
  routes: {
    transition: function (path, params, query) {
      this.dispatch(c.ROUTE.TRANSITION, { path: path, params: params, query: query });
    }    

  },

};

module.exports = {
  methods: methods,
  constants: c
};
